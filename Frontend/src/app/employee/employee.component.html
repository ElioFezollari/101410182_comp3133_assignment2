<app-navbar></app-navbar>
<div class="table-wrapper">
  <div class="content">
    <div class="top-actions">
      <h2 class="page-title">Employee List</h2>
      <div class="button-group">
        <button (click)="goToCreate()" class="create-button">+ Create Employee</button>
      </div>
    </div>


    <div class="search-filters">
      <input [(ngModel)]="searchDesignation" placeholder="Search by Designation" class="search-input" />
      <input [(ngModel)]="searchDepartment" placeholder="Search by Department" class="search-input" />
      <button (click)="searchEmployees()" class="search-button">Search</button>
      <button (click)="resetSearch()" class="reset-button">Reset</button>
    </div>

    <div *ngIf="loading">Loading employees...</div>
    <div *ngIf="error">Error loading employees: {{ error.message }}</div>

    <table *ngIf="!loading && employees.length > 0" border="1" cellpadding="8" cellspacing="0">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Gender</th>
          <th>Designation</th>
          <th>Salary</th>
          <th>Department</th>
          <th>Date of Joining</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of employees">
          <td>{{ emp.first_name }}</td>
          <td>{{ emp.last_name }}</td>
          <td>{{ emp.email }}</td>
          <td>{{ emp.gender }}</td>
          <td>{{ emp.designation }}</td>
          <td>{{ emp.salary }}</td>
          <td>{{ emp.department }}</td>
          <td>{{ emp.date_of_joining | date: 'mediumDate' }}</td>
          <td class="button-td">
            <button (click)="goToView(emp.id)">View</button>
            <button (click)="goToUpdate(emp.id)">Update</button>
            <button (click)="deleteEmployee(emp.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="!loading && employees.length === 0">
      No employees found.
    </div>
  </div>
</div>
